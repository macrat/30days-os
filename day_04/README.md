4日目
=====

## やったこと

- 何かかなり色々いじった

    綺麗にしたかった。


## メモ

`main.hlo` （本の通りに作っていれば `bootpack.hri` ）のサイズが521バイト以上になると正常に起動しなくなる問題があった。
このとき、真っ黒な画面のまま動かなくなるか、何度も再起動するかどちらかになっていた。

よく調べてみたら、 `header.asm` （本では `asmhead.nas` ）に定義されているBOTPAKの値が以下のようにタイポしていた。

``` diff
--- 間違っている方
+++ 正しい方
@@ -1,6 +1,6 @@
 ; header of hello-os
 
-BOTPAK  EQU 0x00380000
+BOTPAK  EQU 0x00280000
 DSKCAC  EQU 0x00100000
 DSKCAC0 EQU 0x00008000
```

先頭アドレスが後ろにズレていたので、結果として場所が足りなくなっていた（520バイトまでしか置けなかった）みたい。
かなり無駄な時間を食ってしまった。
